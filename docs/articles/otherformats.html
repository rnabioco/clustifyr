<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Support for various single cell object formats â€¢ clustifyr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Support for various single cell object formats">
<meta property="og:description" content="">
<meta property="og:image" content="http://rnabioco.github.io/clustifyr/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">clustifyr</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/benchmark.html">Benchmarking clustifyr</a>
    </li>
    <li>
      <a href="../articles/clustifyR.html">Introduction to clustifyr</a>
    </li>
    <li>
      <a href="../articles/otherformats.html">Support for various single cell object formats</a>
    </li>
    <li>
      <a href="../articles/othertools.html">Other considerations w/ clustifyr</a>
    </li>
    <li>
      <a href="../articles/references.html">Reference building for clustifyr</a>
    </li>
    <li>
      <a href="../articles/visualizations.html">Visualization of clustifyr results</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rnabioco/clustifyr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Support for various single cell object formats</h1>
            
            <h4 class="date">2019-09-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rnabioco/clustifyr/blob/master/vignettes/otherformats.Rmd"><code>vignettes/otherformats.Rmd</code></a></small>
      <div class="hidden name"><code>otherformats.Rmd</code></div>

    </div>

    
    
<p><code>clustifyr</code> is aimed for general use and flexibility in various analysis pipelines. While its core code functions with matrices and dataframes, and hence has minimal package dependencies, wrapper functions are provided for further convenience of the user.</p>
<div id="direct-handling-of-seurat-objects-v2-and-v3-extracting-the-required-data-and-inserting-called-cell-types-directly-into-the-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#direct-handling-of-seurat-objects-v2-and-v3-extracting-the-required-data-and-inserting-called-cell-types-directly-into-the-objects" class="anchor"></a>Direct handling of <code>seurat</code> objects, v2 and v3, extracting the required data, and inserting called cell types directly into the objects</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(clustifyr)</a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co"># can even returning a new object with `type` added to metadata.</span></a>
<a class="sourceLine" id="cb1-4" title="4">res &lt;-<span class="st"> </span><span class="kw"><a href="../reference/clustify.html">clustify</a></span>(</a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="dt">input =</span> s_small,</a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="dt">cluster_col =</span> <span class="st">"res.1"</span>,</a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="dt">ref_mat =</span> pbmc_bulk_matrix,</a>
<a class="sourceLine" id="cb1-8" title="8">  <span class="dt">seurat_out =</span> T,</a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="dt">dr =</span> <span class="st">"tsne"</span></a>
<a class="sourceLine" id="cb1-10" title="10">)</a>
<a class="sourceLine" id="cb1-11" title="11"></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co"># or return a correlation matrix, if seurat_out is set to F</span></a>
<a class="sourceLine" id="cb1-13" title="13">res2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/clustify_lists.html">clustify_lists</a></span>(</a>
<a class="sourceLine" id="cb1-14" title="14">  s_small,</a>
<a class="sourceLine" id="cb1-15" title="15">  <span class="dt">per_cell =</span> F,</a>
<a class="sourceLine" id="cb1-16" title="16">  <span class="dt">marker =</span> pbmc_markers,</a>
<a class="sourceLine" id="cb1-17" title="17">  <span class="dt">marker_inmatrix =</span> F,</a>
<a class="sourceLine" id="cb1-18" title="18">  <span class="dt">cluster_col =</span> <span class="st">"res.1"</span>,</a>
<a class="sourceLine" id="cb1-19" title="19">  <span class="dt">seurat_out =</span> F,</a>
<a class="sourceLine" id="cb1-20" title="20">  <span class="dt">dr =</span> <span class="st">"tsne"</span></a>
<a class="sourceLine" id="cb1-21" title="21">)</a></code></pre></div>
</div>
<div id="other-scrna-seq-object-formats-are-easily-supported-by-adding-defaults-to-a-lookup-file-object_loc_lookup-currently-including-sce-urd-cds-fsce-" class="section level2">
<h2 class="hasAnchor">
<a href="#other-scrna-seq-object-formats-are-easily-supported-by-adding-defaults-to-a-lookup-file-object_loc_lookup-currently-including-sce-urd-cds-fsce-" class="anchor"></a>Other scRNA-seq object formats are easily supported, by adding defaults to a lookup file <code>object_loc_lookup</code>, currently including <code>SCE</code>, <code>URD</code>, <code>CDS</code>, <code>FSCE</code>.</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># location of data in object in this format</span></a>
<a class="sourceLine" id="cb2-2" title="2">object_loc_lookup</a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co"># adding seurat3 locations</span></a>
<a class="sourceLine" id="cb2-5" title="5">object_loc_lookup<span class="op">$</span>Seurat &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(</a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="dt">expr =</span> <span class="st">"input@assays$RNA@data"</span>, </a>
<a class="sourceLine" id="cb2-7" title="7">  <span class="dt">meta =</span> <span class="st">"input@meta.data"</span>, </a>
<a class="sourceLine" id="cb2-8" title="8">  <span class="dt">var =</span> <span class="st">"input@assays$RNA@var.features"</span>,</a>
<a class="sourceLine" id="cb2-9" title="9">  <span class="dt">col =</span> <span class="st">"RNA_snn_res.1"</span></a>
<a class="sourceLine" id="cb2-10" title="10">)</a></code></pre></div>
<p>For example, sample code for <code>scrunchy</code> is as easy as:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">res &lt;-<span class="st"> </span><span class="kw"><a href="../reference/clustify_nudge.html">clustify_nudge</a></span>(</a>
<a class="sourceLine" id="cb3-2" title="2">  fsce_small,</a>
<a class="sourceLine" id="cb3-3" title="3">  cbmc_ref,</a>
<a class="sourceLine" id="cb3-4" title="4">  cbmc_m,</a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="dt">query_genes =</span> pbmc_vargenes,</a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="dt">cluster_col =</span> <span class="st">"k_cluster"</span></a>
<a class="sourceLine" id="cb3-7" title="7">)</a></code></pre></div>
</div>
<div id="making-new-references-from-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#making-new-references-from-objects" class="anchor"></a>Making new references from objects</h2>
<p>Making scRNA-seq objects into references is assisted by wrappers as well.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># for both v2 and v3</span></a>
<a class="sourceLine" id="cb4-2" title="2">seurat_ref &lt;-<span class="st"> </span><span class="kw"><a href="../reference/seurat_ref.html">seurat_ref</a></span>(</a>
<a class="sourceLine" id="cb4-3" title="3">  s_small3,</a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="dt">cluster_col =</span> <span class="st">"RNA_snn_res.1"</span></a>
<a class="sourceLine" id="cb4-5" title="5">)</a>
<a class="sourceLine" id="cb4-6" title="6"></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co"># and other object types with lookup</span></a>
<a class="sourceLine" id="cb4-8" title="8">object_ref &lt;-<span class="st"> </span><span class="kw">use_object_comp</span>(<span class="dt">input =</span> input)</a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#direct-handling-of-seurat-objects-v2-and-v3-extracting-the-required-data-and-inserting-called-cell-types-directly-into-the-objects">Direct handling of <code>seurat</code> objects, v2 and v3, extracting the required data, and inserting called cell types directly into the objects</a></li>
      <li><a href="#other-scrna-seq-object-formats-are-easily-supported-by-adding-defaults-to-a-lookup-file-object_loc_lookup-currently-including-sce-urd-cds-fsce-">Other scRNA-seq object formats are easily supported, by adding defaults to a lookup file <code>object_loc_lookup</code>, currently including <code>SCE</code>, <code>URD</code>, <code>CDS</code>, <code>FSCE</code>.</a></li>
      <li><a href="#making-new-references-from-objects">Making new references from objects</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Rui Fu, Kent Riemondy, Austin Gillen, Chengzhe Tian, Jay Hesselberth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
